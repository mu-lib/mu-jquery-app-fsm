!function(a){a("mu-jquery-app-machina/fsm")(["mu-create/regexp"],function(a){return a(/^fsm\/(.+)/,function(a,b,c){return(a.fsm=a.fsm||[]).push({name:c,handler:b.value}),!1})}),a("mu-jquery-app-machina/create")(["mu-jquery-widget/create","./fsm"],function(a,b){return a.extend(b)}),a("mu-jquery-app-machina/widget")(["./create","mu-jquery-widget/widget"],function(a,b){return a(b.concat(),function(a,b,c){var d=this,e=a.constructor,f=d.constructor.fsm.slice(),g=c.fsm;["handle","transition","clearQueue","deferAndTransition","compositeState"].forEach(function(a){d[a]=e.proxy(g[a],g)}),d.on("initialize",function(){f=e.map(f,function(a){return g.on(a.name,e.proxy(a.handler,d))})}),d.on("finalize",function(){f=e.map(f,function(a){return a.off()})})})})}(function(a){var b=a.replace(/\/.+$/,""),c=this;return function(d,e){"function"==typeof define&&define.amd?define(d,e):"object"==typeof module&&module.exports?module.exports=e.apply(c,d.map(require)):c[a]=e.apply(c,d.map(function(a){return c[a.replace(/^\./,b)]||a}))}});